<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Car Dealership</title>
</head>
<body>

    <h2>Search for a Car</h2>

    <select id="condition">
        <option value="New/Used">New/Used</option>
        <option value="New">New</option>
        <option value="Used">Used</option>
    </select>

    <select id="make">
        <option value="">Select Make</option>
        <option value="Toyota">Toyota</option>
        <option value="BMW">BMW</option>
        <option value="Mercedes">Mercedes</option>
    </select>

    <select id="model">
        <option value="">Select Model</option>
        <option value="2023">2023</option>
        <option value="2022">2022</option>
        <option value="2021">2021</option>
    </select>

    <button id="searchBtn">Search</button>

    <div id="results"></div>

    <script>
        document.getElementById("searchBtn").addEventListener("click", function() {
            const condition = document.getElementById("condition").value;
            const make = document.getElementById("make").value;
            const model = document.getElementById("model").value;

            fetch(`http://localhost:3000/search?condition=${condition}&make=${make}&model=${model}`)
                .then(response => response.json())
                .then(data => {
                    const resultsDiv = document.getElementById("results");
                    resultsDiv.innerHTML = ""; // Clear previous results
                    
                    if (data.length === 0) {
                        resultsDiv.innerHTML = "<p>No cars found.</p>";
                        return;
                    }

                    data.forEach(car => {
                        resultsDiv.innerHTML += `<p>${car.make} - ${car.model} (${car.condition})</p>`;
                    });
                })
                .catch(error => console.error("Error fetching data:", error));
        });
    </script>

</body>
</html>
