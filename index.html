<!DOCTYPE html>
<html lang="en">
<head>
    <title>Car Dealership</title>
</head>
<body>

    <select id="status">
        <option value="New/Used">New/Used</option>
        <option value="New">New</option>
        <option value="Used">Used</option>
    </select>

    <select id="make">
        <option value="">Select Make</option>
        <option value="Toyota">Toyota</option>
        <option value="BMW">BMW</option>
        <option value="Mercedes-Benz">Mercedes-Benz</option>
    </select>

    <select id="model_year">
        <option value="">Select Year</option>
        <option value="2024">2024</option>
        <option value="2023">2023</option>
        <option value="2018">2018</option>
        <option value="2017">2017</option>
    </select>

    <button onclick="searchCars()">Search</button>

    <div id="results"></div>

    <script>
        function searchCars() {
            const status = document.getElementById("status").value;
            const make = document.getElementById("make").value;
            const model_year = document.getElementById("model_year").value;

            fetch(`http://localhost:3000/search?status=${status}&make=${make}&model_year=${model_year}`)
                .then(response => response.json())
                .then(data => {
                    let output = "<h2>Search Results:</h2>";
                    if (data.length === 0) {
                        output += "<p>No cars found</p>";
                    } else {
                        data.forEach(car => {
                            output += `<p>${car.status} ${car.make} (${car.model_year}) - $${car.price}</p>`;
                        });
                    }
                    document.getElementById("results").innerHTML = output;
                })
                .catch(error => console.error("Error fetching data:", error));
        }
    </script>

</body>
</html>
